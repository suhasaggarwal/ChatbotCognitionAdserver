<div class="row">
    <div class="col-lg-12 audience-header-content">
        <cr-audience-header-dir></cr-audience-header-dir>
    </div>
</div>
<div class="row content-row">
    <div class=" panel content">
            <div class="panel-heading">
                <div class="col-md-9"><!-- Map View --></div>
                <div class="col-md-3">
                        <!-- <select class="bootstrap-select form-control top-location-select" ng-options="latLongValue.dropdown for latLongValue in vm.templateData.dropdownLatLongValues.latLong"
                                ng-model="latLongValue.dropdown" data-width="100%" style="padding-left: 65px;"
                          ng-change="vm.onChangeMapView(latLongValue.dropdown)">
                            <option value="" disabled selected>Global</option>
                        </select> -->
                    <ul style="list-style-type: none; margin-bottom:5px !important">
                         <li class="pull-right pageview-section">
                            <label class="audience-keymetric-label text-bold">{{vm.mapHeader }} : </label>
                            <ul class="breadcrumb-elements pull-right">
                                <li class="dropdown">
                                <a href="#" data-toggle="dropdown" class="dropdown-toggle drop-down-icon-fix" style="background-color: transparent"><b class="caret"></b></a>
                                    <ul class="dropdown-menu dropdown-menu-right" role="menu">
                                         <li ng-repeat="latLongValue in vm.templateData.dropdownLatLongValues.latLong">
                                        <a href="javascript:void(0)" ng-click="vm.onChangeMapView(latLongValue.dropdown)">{{ latLongValue.dropdown }}</a>
                                    </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
           
             <cr-analytic-countries-map ng-show="vm.mapType == 'Countries'"></cr-analytic-countries-map>
                <cr-analytic-state-map ng-show="vm.mapType == 'States'"></cr-analytic-state-map>
                <cr-analytic-city-map ng-show="vm.mapType == 'Cities'"></cr-analytic-city-map>
        </div>
    </div>
</div>
<div class="row content-row">
        <ul class="nav nav-tabs margin-left-0" style="margin-bottom:5px !important; border-bottom: none;">
        <li><a href="javascript:void(0)" ng-click="vm.selectCity()" ng-class="{'font-bold': selectedBottomTab.city}">City</a></li>
        <li><a href="javascript:void(0)" ng-click="vm.selectState()" ng-class="{'font-bold': selectedBottomTab.state}">State</a></li>
        <li><a href="javascript:void(0)" ng-click="vm.selectCountry()" ng-class="{'font-bold': selectedBottomTab.country}">Country</a></li>
        <li><a href="javascript:void(0)" ng-click="vm.selectPostalCode()" ng-class="{'font-bold': selectedBottomTab.postalCode}">Postal code</a></li>
        <!-- <li><a href="javascript:void(0)" ng-click="vm.selectContent()">Content</a></li>
        <li><a href="javascript:void(0)" ng-click="vm.selectSubContent()">Sub Content</a></li> -->
        <li class="pull-right pageview-section">
            <label  class="audience-keymetric-label">{{ vm.selectMatricLabel }} : </label>
            <ul class="breadcrumb-elements pull-right">
                <li class="dropdown">
                <a href="#" data-toggle="dropdown" class="dropdown-toggle drop-down-icon-fix" style="background-color: transparent"><b class="caret"></b></a>
                    <ul class="dropdown-menu dropdown-menu-right" role="menu">
                        <li ng-repeat="value in vm.templateData.dropdownValues.keyMetric">
                            <a href="javascript:void(0)" ng-click="vm.keyMetricFitler( value.apifilter )">{{ value.dropdown }}</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
  
</div>
<div id="bottomcontent" class="row content-row">
    <div class=" panel content">
        <div class="col-lg-12">
        <gear-configuration pdf-downlode="vm.pdfExport('bottomcontent')" jpeg-downlode="vm.jpegExport('bottomcontent')" update-data="vm.topRefferalDataUpdate()"></gear-configuration>
        <pdf-generater options="dirPdfOptions"></pdf-generater>
        <jpeg-generater options="dirJpegOptions"></jpeg-generater>
        <div">
            <table class="table text-nowrap">
                <thead>
                    <tr>
                        <th id="selectID" class="text-bold">{{vm.sectionThreeTitle}}</th>
                        <!-- <th class="text-right text-bold">Trend</th> -->
                        <th class="text-right text-bold">Vistors</th>
                        <th class="text-right text-bold">Avg. Time (in min)</th>
                        <th class="text-right text-bold">{{ vm.selectMatricLabel }}</th>
                        <th class="text-right text-bold"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="profile in vm.audienceGeographyData">
                        <td class="capitalize-text">{{profile.type}}</td>
                        <!-- <td class="text-right">-</td> -->
                        <td class="text-right">{{profile.visitorCount}}</td>
                        <td class="text-right">{{profile.averageTime}}</td>
                        <td class="text-right">{{profile.count}}</td>
                        <td class="text-center padding-12">
                            <div class="progress age-group-progressbar" data-toggle="tooltip" data-placement="top" tooltip="{{profile.share}}%">
                                <div class="progress-bar" style="width:{{profile.scaledShare}}%">
                                    <span class="sr-only"></span>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div ng-if="vm.audienceGeography.data == 0" ng-repeat="message in vm.audienceGeography.messageStatus">
                <p class="text-center" style="color: #64c1ac; margin-top: 60px; font-size: 20px;">{{message}}</p>
            </div>
        </div>          
            <div ng-if="vm.audienceGeography.data.length > 10">
                <div class="col-lg-12 text-right" style="margin-bottom: 0%">
                    <pagination 
                          ng-model="vm.audienceGeography.currentPage"
                          total-items="vm.audienceGeography.data.length"
                          max-size="5"  
                          boundary-links="true"
                              boundary-link-numbers="true"
                              previous-text="&lsaquo;"
                              next-text="&rsaquo;"
                              first-text="&laquo;"
                              last-text="&raquo;"
                          ng-change="audienceGeographyPaging()">
                    </pagination>
                </div>
            </div>
        </div>
    </div>
</div>